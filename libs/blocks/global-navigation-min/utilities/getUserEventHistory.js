import{getConfig as e}from"../../../utils/utils.js";let r;export default async t=>{if(r)return r;if(!window.adobeIMS?.isSignedInUser())return Promise.reject(new Error("User not signed in"));let i,n;r=r||new Promise(((e,r)=>{i=e,n=r}));const o=await window.adobeIMS.getProfile(),a="prod"===e().env.name?"https://www.adobe.com/gating/api/realtime-profile":"https://www.stage.adobe.com/gating/api/realtime-profile",s=await fetch(`${a}?guid=${t||o.userId}`).then((e=>200===e.status?e.json():null));return s&&i(s),n(new Error("Error retrieving a response")),r};